# nodeåŸºç¡€çŸ¥è¯†1

### ä¸ƒã€åˆ›å»ºå’Œåˆ é™¤ç›®å½•ï¼š

1.åˆ é™¤æ–‡ä»¶ï¼š

```javascript
var fs=require("fs");//å¼•å…¥

fs.unlink("write.txt",function(){
    console.log("write.txtæ–‡ä»¶å·²ç»è¢«åˆ é™¤äº†");
})
```

- fs.unlinkï¼ˆå¼‚æ­¥ï¼‰å»åˆ é™¤æ–‡ä»¶



2.æ–°å»ºå’Œåˆ é™¤ç›®å½•ï¼š

```javascript
fs.mkdirSync("go");//åˆ›å»ºgoæ–‡ä»¶å¤¹
fs.rmdirSync("go");//åˆ é™¤goæ–‡ä»¶å¤¹
```

- fs.mkdirSync("go");//åˆ›å»ºgoæ–‡ä»¶å¤¹
- fs.rmdirSync("go");//åˆ é™¤goæ–‡ä»¶å¤¹



3.ç»¼åˆçš„å°ä¾‹å­ğŸŒ°ï¼š

```javascript
fs.mkdir("stuff",function(){          //åˆ›å»ºä¸€ä¸ªstuffçš„æ–‡ä»¶å¤¹
    fs.readFile("readMe.txt","utf-8",function(err,data){       //è¯»å–readMe.txtå†…å®¹
        fs.writeFile("./stuff/reWrite.txt",data,function(){   //åœ¨./stuffç›®å½•ä¸‹å†™å…¥reWrite.txtå†…å®¹
            console.log("readMeçš„å†…å®¹è¢«é‡å†™æˆåŠŸäº†");
        })
    })
});
```



### å…«ã€æµå’Œç®¡é“ï¼š

ğŸ  æµçš„æ¦‚å¿µï¼š

```javascript
ls  //addAndDel.js app.js       catalog.js   count.js     event.js     readMe.txt   stuff
ls | grep count  //ä¼šæŸ¥æ‰¾countå…³é”®å­—å¹¶è¾“å‡º count.js
ls | grep count | grep js  //ä¼šæŸ¥æ‰¾countå…³é”®å­—ç„¶åå°†countä½œä¸ºâ€œè¾“å…¥â€ç»§ç»­æŸ¥æ‰¾jså…³é”®å­—ï¼Œè¾“å‡º count.js
```

ğŸ åˆ›å»ºä¸€ä¸ªè¯»å…¥çš„æµå¹¶ç›‘å¬ï¼š

```javascript

ğŸŒ:
var fs=require("fs");
//åˆ›å»ºä¸€ä¸ªè¯»å…¥æµï¼Œè¿™ä¸ªæµæ˜¯ä¸€ä¸ªäº‹ä»¶çš„å®ä¾‹ï¼Œæ‰€ä»¥æ‹¥æœ‰ä¸€äº›äº‹ä»¶çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ç»‘å®šä¸€äº›ç›‘å¬å‡½æ•°
var curCont = fs.createReadStream(__dirname + "/readMe.txt",); 

//æ·»åŠ ç›‘å¬äº‹ä»¶
curCont.on("data",function(chunk){
    console.log("æ–°çš„æµè¢«åˆ›å»ºäº†");
    console.log(chunk);
});
//<Buffer e5 a6 82 e6 9e 9c e6 b2 a1 e6 9c 89 e9 81 87 e8 a7 81 e8 bf 87 e4 bd a0 ef bc 8c e6 88 91 e7 9a 84 e4 ba ba e7 94 9f e4 bc 9a e6 98 af e6 80 8e e6 a0 ... 3513 more bytes>



//ğŸŒğŸœ:åŠ å…¥ç¼–ç ç¬¦utf-8å¯ä»¥è¯»å–å†…å®¹
var fs=require("fs");
//åˆ›å»ºä¸€ä¸ªè¯»å…¥æµï¼Œè¿™ä¸ªæµæ˜¯ä¸€ä¸ªäº‹ä»¶çš„å®ä¾‹ï¼Œæ‰€ä»¥æ‹¥æœ‰ä¸€äº›äº‹ä»¶çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ç»‘å®šä¸€äº›ç›‘å¬å‡½æ•°
var curCont = fs.createReadStream(__dirname + "/readMe.txt","utf-8"); 

//æ·»åŠ ç›‘å¬äº‹ä»¶
curCont.on("data",function(chunk){
    console.log("æ–°çš„æµè¢«åˆ›å»ºäº†");
    console.log(chunk);
});

//æ–°çš„æµè¢«åˆ›å»ºäº†
//å¦‚æœæ²¡æœ‰é‡è§è¿‡ä½ ï¼Œæˆ‘çš„äººç”Ÿä¼šæ˜¯æ€æ ·ï¼Ÿä¼šæ˜¯ä¸€æ ·å­¤ç‹¬ï¼Œè¿˜æ˜¯ä¼šæœ‰å¦ä¸€ä¸ªäººç»è¿‡ï¼ŒçŸ­æš‚ç…§äº®ï¼Œç„¶åæˆ‘ä»¬å„è‡ªé€€å›å„è‡ªçš„è½¨è¿¹ï¼Œé‡å›å¹³é™ï¼Ÿ

//ä½ ä¸ºä»€ä¹ˆä¸å«æˆ‘ç­‰ä½ ï¼Ÿä½ ä¹Ÿæ›¾è¿™æ ·é—®è¿‡æˆ‘ã€‚

//ä½†çˆ±ä½ çš„äººæ—©å·²åœ¨é‚£é‡Œï¼Œè€Œä¸”ä¼šä¸€ç›´åœ¨ã€‚å³ä¾¿ä»–è´Ÿæ‰‹è€Œç«‹ï¼Œä½ ä¹ŸçŸ¥é“ä»–åœ¨ç­‰ä½ ã€‚

//è‡³äºä¸çˆ±çš„ã€çˆ±è¿‡çš„ï¼Œåªèƒ½éšä»–å»ã€‚æŒ½ç•™æ˜¯ä¸€ä¸ªå¾’åŠ³çš„æ‰‹åŠ¿ï¼Œåƒå»æ•æ‰ä¸€åªæŒ¯ç¿…æ¬²é£çš„é¸Ÿã€‚åœ¨ä½ å¯ç¨‹ä¹‹å‰ï¼Œä½ å°±å·²ç»ç¦»å¼€äº†ã€‚

//é‚£äº›çœ‹ä¼¼æ¯«æ— ç¼˜ç”±çš„æ·±æƒ…çš„ç¡®è®©äººæ„ŸåŠ¨ï¼Œæ„ŸåŠ¨äºå®ƒè¿‘ä¹çº¯ç²¹çš„å¤©çœŸå’Œè¿‘ä¹æ„šæ˜§çš„ç›²ç›®ã€‚ä½†å®ƒçœŸçš„ä¸€æ— æ‰€æ±‚å—ï¼Ÿè¿˜æ˜¯æˆ‘ä»¬æƒ³è¦è‡ªæˆ‘è’™è”½ï¼Ÿ

//ä½ å¯ä»¥å˜²ç¬‘æˆ‘çš„åæ‰§ã€‚æˆ‘æ€€ç–‘ä¸€åˆ‡ï¼Œå’Œå…¶ä»–äººä¸€æ ·å¸¦ç€å…³å¿ƒæ¨æ–­è¯´ï¼Œè¿™æˆ–è®¸æ˜¯æˆ‘æ— æ³•è·å¾—å¹¸ç¦çš„åŸå› ã€‚

//æ²¡æœ‰å…³ç³»ã€‚æˆ‘ä»¬éƒ½æœ‰çœ‹å¾…è¿™ä¸ªä¸–ç•Œçš„è§’åº¦ï¼Œä»¥åŠæ¢å¯»å…¶åé€»è¾‘çš„æ–¹å¼ã€‚

//æˆ‘ä¸è¦æ´»åœ¨å‡è£…çš„ç›´è§‰é‡Œï¼Œé‚£æ˜¯æ²¸ä¹±ä¸ç¼ ç¼šã€‚å·æ‡’çš„å€Ÿå£ã€‚

//æˆ‘è¦çš„çˆ±æ˜¯æ¸…é†’ä¹‹åä¾æ—§å¿ƒç”˜æƒ…æ„¿ã€‚
```

**ç†è§£è¿‡ç¨‹ï¼š**

- é€šè¿‡fs.createReadStreamå»åˆ›å»ºä¸€ä¸ªè¯»å…¥çš„æµå¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ç†è§£ä¸ºè‡ªå·±é€ äº†ä¸€æŠŠç©ºå·¦è½®æªğŸ£ï¼›
- curCont.on("data",function(chunk)...è¿™ä¸ªå¯ä»¥ç†è§£ä¸ºï¼Œå¦‚æœæªé‡Œ"æœ‰å­å¼¹"äº†ï¼Œé‚£ä¹ˆå¾€ä¸‹æ‰§è¡Œå‡½æ•°"å¼€æª"å•¥çš„ã€‚
- è¾“å‡ºçš„ä¸æ˜¯reaMeçš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªBufferï¼Œæé«˜äº†æ€§èƒ½ã€‚
- æƒ³è¦è¯»å–å‡ºreadMeæ–‡ä»¶çš„å†…å®¹ï¼Œéœ€è¦æ·»åŠ ç¼–ç ç¬¦utf-8

**ä¸‹é¢æ˜¯å¦å¤–ä¸€ç§å†™æ³•ï¼š**

```javascript
var fs=require("fs");

var nowContent=fs.createReadStream(__dirname + "/readMe.txt"); //åˆ›å»ºä¸€ä¸ªè¯»å…¥çš„æµ
var nowWrite=fs.createWriteStream(__dirname + "/writeMd.txt"); //åˆ›å»ºä¸€ä¸ªå†™å…¥çš„æµ
nowContent.setEncoding("utf-8");  //è®¾ç½®ç¼–ç ç¬¦

var data="";

nowContent.on("data",function(chunk){   //ç›‘å¬è¯»å–åˆ°æ•°æ®çš„æ—¶å€™
    data+=chunk;
    nowWrite.write(chunk);       //å†™å…¥æµå†™å…¥chunkï¼Œè¿è¡Œåå‘ç°å‡ºç°ä¸€ä¸ªåä¸ºwriteMd.txtçš„æ–‡ä»¶ï¼Œå†…å®¹å’ŒreadMe.txtä¸­ä¸€æ ·
});

nowContent.on("end",function(){  //ç›‘å¬ç»“æŸçš„æ—¶å€™è¾“å‡ºdata
    console.log(data);
});
```

å†™å…¥æµï¼š

```javascript
var  writeL=fs.createWriteStream(__dirname + "/what.txt");  //åˆ›å»ºä¸€ä¸ªå†™å…¥æµ
writeL.write("æˆ‘åœ¨å“ªé‡Œå•Šï¼Ÿ","utf-8");   //å†™å…¥å†…å®¹å¹¶è®¾ç½®ç¼–ç ç¬¦
writeL.end();                    //å†™å…¥ç»“æŸ
writeL.on("finish",function(){   //ç›‘å¬å†™å…¥ç»“æŸäº‹ä»¶
    console.log("å†™å…¥å®Œæˆå•¦~ï¼");
});
//ç„¶åå¤šå‡ºä¸€ä¸ªwhat.txtçš„æ–‡ä»¶
```

ç®¡é“çš„ä½¿ç”¨ï¼š

```javascript
var fs=require("fs");
var nowContent=fs.createReadStream(__dirname + "/readMe.txt"); //åˆ›å»ºä¸€ä¸ªè¯»å…¥çš„æµ
var nowWrite=fs.createWriteStream(__dirname + "/writepipe.txt"); //åˆ›å»ºä¸€ä¸ªå†™å…¥çš„æµ
nowContent.pipe(nowWrite);//ä½¿ç”¨ç®¡é“
```

- æ„Ÿè§‰å°±æ˜¯è¿™ä¸ªè¯»å…¥çš„æµçš„æ°´æµï¼Œé€šè¿‡ç®¡é“ï¼Œæ— ç¼è¿æ¥åˆ°äº†å†™å…¥æµï¼Œç„¶åç”Ÿæˆäº†æ–°çš„æ–‡ä»¶writepipe.txtæ–‡ä»¶ã€‚