# Promiseï¼š

### 1.å­¦ä¹ å‰å¼•å…¥æ¡ˆä¾‹ğŸ§¤ï¼š

```javascript
readFile(filename,(err,content)=>{   //è¯»å–æ–‡ä»¶
  parseXML(content,(err,xml)=>{    //è§£ææˆxmlæ–‡ä»¶     
  })
})
```

- ä¸Šé¢çš„ä¾‹å­è¯´æ˜åªè¦æœ‰ä¸€ä¸ªå›åˆ°å‡½æ•°ï¼Œåç»­çš„å¤„ç†å°±éƒ½å¾—åœ¨å›è°ƒå‡½æ•°ä¸­è¿›è¡Œäº†ï¼Œä»£ç ç»´æŠ¤ä¸å¯æƒ³è±¡ï¼Œå¾ˆå®¹æ˜“é€ æˆå›è°ƒåœ°ç‹±ã€‚ç”±æ­¤å¼•å‡ºpromise

```javascript
//promiseçš„å¤„ç†æ–¹å¼
readFile(filename).then(content=>parseXML(content)).then(xml=>{},error=>{});
readFile(filename).then.(content=>parseXML(content)).then(xml=>{}).catch(error=>{})
```



### 2.å†æ¥çœ‹ä¸‹ä½¿ç”¨awaitå’Œasyncæ¥æ”¹é€ ä¸Šé¢çš„ä¾‹å­ğŸ¤–ï¼š

```javascript
async function readXML(filename){
  const content=await readFile(filename);         //è¯»å–readFileæ–‡ä»¶
  
  const  xml=await parseXMl(content);             //è¯»å–çš„æ–‡ä»¶è½¬æ¢æˆxmlæ–‡ä»¶å
  
  return xml
}
```



